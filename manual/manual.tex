\documentclass[12pt,a4paper]{article}

% -------------------
% MARK: Packages
% -------------------

% import geometry package to update the document margins
\usepackage[margin=1in]{geometry}
% set the font to helvectica
\usepackage[scaled]{helvet}
\renewcommand\familydefault{\sfdefault}
% for type-setting
\usepackage{amsmath, amssymb, amsfonts, verbatim, pifont}
% for slashed out text
\usepackage[normalem]{ulem}
% for units and scientific notation
\usepackage[table]{xcolor}
\usepackage{siunitx}
% for references and URLs
\usepackage{hyperref, url}
% Natbib setup for author-year style
\usepackage{natbib}
 \bibpunct[, ]{(}{)}{,}{a}{}{,}%
 \def\bibfont{\small}%
 \def\bibsep{\smallskipamount}%
 \def\bibhang{24pt}%
 \def\newblock{\ }%
 \def\BIBand{and}%
% for graphics and figures
\usepackage{graphicx, subfig, tikz}
% force figures to stay in their sections
\usepackage[section]{placeins}
% for tables
\usepackage{booktabs, longtable, tabularx}
\usepackage{multicol, multirow}
\usepackage{adjustbox}
\usepackage[flushleft]{threeparttable}
% a package for working with .csv data for tables
\usepackage{csvsimple}
% setup the algorithm package
% ruled: show bars around title and bar at bottom
% lined: show the line column on the left of the algorithm
% linesnumbered: print line numbers for each line
\usepackage[ruled,lined,linesnumbered]{algorithm2e}
\DontPrintSemicolon % don't print the semicolon that \; usually prints
% fix overfull hbox errors from oddities like using
% quotes (``foo'') and etc.
\usepackage{microtype}

% -------------------
% MARK: Debugging Packages
% -------------------

% import a debugging package to show the margin boxes
% \usepackage{showframe}

% -------------------
% MARK: Declarations
% -------------------

% setup captions for tables and figures
\captionsetup[table]{%
  labelfont={bf},
  name={Table},
  labelsep=colon,
  justification=raggedright,
  singlelinecheck=false}
\captionsetup[figure]{%
  labelfont={bf},
  name={Figure},
  labelsep=colon,
  justification=raggedright,
  singlelinecheck=false}
\captionsetup[algorithm2e]{%
  labelfont={bf},
  name={Figure},
  labelsep=colon,
  justification=raggedright,
  singlelinecheck=false}

% set the graphics path to the img directory
\graphicspath{{img/}}

% -----------------------------------------------------------------------------
% MARK: algorithm2e stuff
% -----------------------------------------------------------------------------

% params
% \SetKwInOut{Objects}{$\CKmatrix{O}$}
% \SetKwInOut{Weights}{$\CKvector{w}$}

% -------------------
% MARK: Headers
% -------------------

% headers and footers
\usepackage{fancyhdr}
\setlength{\headheight}{15pt}
\pagestyle{fancy}
\lhead{KautenjaDSP}
\rhead{\itshape RackNES v1.1.2}
\cfoot{\thepage}

% start the document
\begin{document}

% -------------------
% MARK: Title Page
% -------------------

% fancyhdr directive to remove headers from this title page
\thispagestyle{empty}
% center the title page contents
\vspace*{\fill}
\begin{center}
\includegraphics[width=0.8\textwidth]{RackNES-Logo}
\linebreak\linebreak\linebreak\linebreak
\includegraphics[width=0.8\textwidth]{RackNES-Module}
\linebreak\linebreak\linebreak\linebreak
\includegraphics[width=0.8\textwidth]{KautenjaDSP}
\end{center}
\vspace*{\fill}
\clearpage

% -------------------
% MARK: Overview
% -------------------

\section{Overview}

RackNES is a Nintendo Entertainment System (NES) emulator for VCV Rack with control voltage inputs and outputs. RackNES offers several key features, namely,

\begin{itemize}
  \item \textbf{Clock Source:} Use NES frame-rate (FPS) as a clock source for downstream modules;
  \item \textbf{Clock Rate Modulation:} Control the clock rate of the NES with direct knob and CV;
  \item \textbf{NES Audio Output:} Sample audio from the NES in real-time at any sampling rate;
  \item \textbf{Sampling/Ratcheting:} Save and restore the NES state for interesting musical effects; and
  \item \textbf{Full CV Control:} CV inputs for Reset, Player 1, Player 2, and more.
\end{itemize}

% -------------------
% MARK: Loading ROMs
% -------------------

\section{Loading ROMs}

To load a game into RackNES:
\begin{enumerate}
  \item acquire a ROM dump of the desired game in the iNES format, the file-type will be \texttt{.NES} or \texttt{.nes};
  \item bring up the RackNES context menu by right-clicking the module and selecting ``\textbf{Load ROM}'';
  \item use the resulting file explorer to locate the ROM file from (1) and load it into RackNES;
  \item if the ROM file is invalid or cannot be loaded, RackNES will inform you using a pop-up dialog.
\end{enumerate}

% -------------------
% MARK: Mappers
% -------------------

\section{Mappers}

NES cartridges contain application specific integrated circuits (ASICs), called mappers, to provide special functionality for certain games. Oftentimes, these mappers provide some additional resources, like ROM or RAM. These mappers must be accounted for in the NES emulation in order to support the games that use them, otherwise the logic of the game will not execute correctly, if at all. RackNES supports many of the common mappers, with plans to support more in the future. Table~\ref{tab:mappers} outlines which mappers are supported by the current stable release of RackNES.

\begin{table}[!htp]
\centering
\begin{tabular}{|l|l|}
 \hline
 ID & Name   \\
 \hline\hline
 0  & NROM   \\
 \hline
 1  & MMC1   \\
 \hline
 2  & UNROM  \\
 \hline
 3  & CNROM  \\
 \hline
\end{tabular}
\caption{NES mappers supported by the current release of RackNES.}
\label{tab:mappers}
\end{table}

% -------------------
% MARK: Panel Layout
% -------------------

\section{Panel Layout}

\includegraphics[width=\textwidth]{RackNES-Manual}

\begin{enumerate}
  \item Player 1 controller input triggers; high at $2V$
  \item Player 2 controller input triggers; high at $2V$
  \item NES Clock rate control. Controls the clock rate of the NES starting at a base rate of $f_{clock} = 1.7898MHz$.
  \item NES Clock output. A pulse wave with $50\%$ duty cycle; high at $10V$, low at $0V$. Rising edge follows the frame-rate of the NES where a frame occurs once every $29781$ CPU cycles, i.e., $f_{output} = \frac{f_{clock}}{29781}$
  \item NES Clock rate CV modulation. Modulates the clock rate parameter according to CV with half the range of the clock rate control knob.
  \item NES Clock rate CV attenuverter. Controls strength and polarity of clock rate CV input.
  \item Save state trigger; high at $2V$. Saves the current state of emulation.
  \item Load state trigger; high at $2V$. Loads the existing save state back into the emulation.
  \item Reset emulator trigger; high at $2V$. Equal to pressing "Reset" on the NES, resets the game.
  \item NES Audio output; $10V_{pp}$. Audio output from the internal mixer of the NES.
  \item NES Audio output volume level; $[0\%,200\%]$. Controls the gain of the audio output signal. $100\%$ is $\approx 2.5V_{pp}$ and $200\%$ is $\approx 5V_{pp}$.
\end{enumerate}

% -------------------
% MARK: References
% -------------------

\clearpage
\renewcommand\refname{References \& Acknowledgments}
\nocite{*}
\bibliographystyle{apalike}
\bibliography{references}

\end{document}
